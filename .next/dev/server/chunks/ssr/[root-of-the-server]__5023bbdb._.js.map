{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 26, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/episodes.ts"],"sourcesContent":["import fs from \"fs\"\nimport path from \"path\"\nimport matter from \"gray-matter\"\n\nexport interface Episode {\n  id: string\n  title: string\n  date: string\n  duration: string\n  category: string\n  hosts: string[]\n  guests: string[]\n  tags: string[]\n  summary: string\n  audioUrl: string\n  status: \"published\" | \"draft\"\n  content: string\n  slug: string\n}\n\nconst episodesDirectory = path.join(process.cwd(), \"content/episodes\")\n\nexport function getAllEpisodes(): Episode[] {\n  // 检查目录是否存在\n  if (!fs.existsSync(episodesDirectory)) {\n    return []\n  }\n\n  const fileNames = fs.readdirSync(episodesDirectory)\n  const episodes = fileNames\n    .filter((fileName) => fileName.endsWith(\".md\"))\n    .map((fileName) => {\n      const slug = fileName.replace(/\\.md$/, \"\")\n      const fullPath = path.join(episodesDirectory, fileName)\n      const fileContents = fs.readFileSync(fullPath, \"utf8\")\n\n      let data, content\n      try {\n        const parsed = matter(fileContents)\n        data = parsed.data\n        content = parsed.content\n\n        console.log(`[v0 Server] Parsed ${fileName}:`, {\n          id: data.id,\n          title: data.title,\n          audioUrl: data.audioUrl,\n          audioUrlType: typeof data.audioUrl,\n        })\n      } catch (error) {\n        console.error(`[v0] Error parsing ${fileName}:`, error)\n        console.error(`[v0] File content preview:`, fileContents.substring(0, 200))\n        throw new Error(`Failed to parse ${fileName}: ${error}`)\n      }\n\n      return {\n        slug,\n        content,\n        id: data.id || \"\",\n        title: data.title || \"\",\n        date: data.date || \"\",\n        duration: data.duration || \"\",\n        category: data.category || \"\",\n        hosts: data.hosts || [],\n        guests: data.guests || [],\n        tags: data.tags || [],\n        summary: data.summary || \"\",\n        audioUrl: data.audioUrl || \"\",\n        status: data.status || \"draft\",\n      } as Episode\n    })\n    // 按日期降序排序\n    .sort((a, b) => (a.date > b.date ? -1 : 1))\n    // 只返回已发布的\n    .filter((ep) => ep.status === \"published\")\n\n  return episodes\n}\n\nexport function getEpisodeBySlug(slug: string): Episode | null {\n  const fullPath = path.join(episodesDirectory, `${slug}.md`)\n\n  if (!fs.existsSync(fullPath)) {\n    return null\n  }\n\n  const fileContents = fs.readFileSync(fullPath, \"utf8\")\n  const { data, content } = matter(fileContents)\n\n  return {\n    slug,\n    content,\n    id: data.id || \"\",\n    title: data.title || \"\",\n    date: data.date || \"\",\n    duration: data.duration || \"\",\n    category: data.category || \"\",\n    hosts: data.hosts || [],\n    guests: data.guests || [],\n    tags: data.tags || [],\n    summary: data.summary || \"\",\n    audioUrl: data.audioUrl || \"\",\n    status: data.status || \"draft\",\n  } as Episode\n}\n\n// 格式化 hosts 为显示字符串\nexport function formatHosts(episode: Episode): string {\n  const hostStr = episode.hosts.join(\" / \")\n  if (episode.guests.length > 0) {\n    return `${hostStr} / 嘉宾: ${episode.guests.join(\", \")}`\n  }\n  return hostStr\n}\n"],"names":[],"mappings":"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"}},
    {"offset": {"line": 121, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/lib/guests.ts"],"sourcesContent":["import fs from \"fs\"\nimport path from \"path\"\n\nexport interface Guest {\n  name: string\n  desc: string\n  twitter: string\n  episodes: string[]\n}\n\nconst guestsFile = path.join(process.cwd(), \"content/guests/guests.md\")\n\nexport function getAllGuests(): Guest[] {\n  // 检查文件是否存在\n  if (!fs.existsSync(guestsFile)) {\n    console.warn(\"[v0] guests.md file not found\")\n    return []\n  }\n\n  try {\n    const fileContents = fs.readFileSync(guestsFile, \"utf8\")\n\n    // 提取 YAML 代码块中的内容\n    const yamlMatch = fileContents.match(/```yaml\\n([\\s\\S]*?)\\n```/)\n    if (!yamlMatch) {\n      console.warn(\"[v0] No YAML code block found in guests.md\")\n      return []\n    }\n\n    const yamlContent = yamlMatch[1]\n\n    // 简单的 YAML 解析器，处理嘉宾列表\n    const guests: Guest[] = []\n    const entries = yamlContent.split(/\\n- name:/)\n\n    entries.forEach((entry, index) => {\n      if (index === 0 && !entry.includes(\"name:\")) return // 跳过第一个分割（标题部分）\n\n      const fullEntry = (index === 0 ? \"\" : \"- name:\") + entry\n\n      // 提取 name\n      const nameMatch = fullEntry.match(/name:\\s*\"([^\"]+)\"/)\n      const name = nameMatch ? nameMatch[1] : \"\"\n\n      // 提取 desc\n      const descMatch = fullEntry.match(/desc:\\s*\"([^\"]+)\"/)\n      const desc = descMatch ? descMatch[1] : \"\"\n\n      // 提取 twitter\n      const twitterMatch = fullEntry.match(/twitter:\\s*\"([^\"]+)\"/)\n      const twitter = twitterMatch ? twitterMatch[1] : \"\"\n\n      // 提取 episodes 数组\n      const episodesMatch = fullEntry.match(/episodes:\\s*\\[([\\s\\S]*?)\\]/)\n      let episodes: string[] = []\n      if (episodesMatch) {\n        const episodesStr = episodesMatch[1]\n        episodes = episodesStr\n          .split(\",\")\n          .map((e) => e.trim().replace(/\"/g, \"\"))\n          .filter((e) => e.length > 0)\n      }\n\n      if (name) {\n        guests.push({\n          name,\n          desc,\n          twitter,\n          episodes,\n        })\n      }\n    })\n\n    return guests\n  } catch (error) {\n    console.error(\"[v0] Error parsing guests.md:\", error)\n    return []\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AASA,MAAM,aAAa,4GAAI,CAAC,IAAI,CAAC,QAAQ,GAAG,IAAI;AAErC,SAAS;IACd,WAAW;IACX,IAAI,CAAC,wGAAE,CAAC,UAAU,CAAC,aAAa;QAC9B,QAAQ,IAAI,CAAC;QACb,OAAO,EAAE;IACX;IAEA,IAAI;QACF,MAAM,eAAe,wGAAE,CAAC,YAAY,CAAC,YAAY;QAEjD,kBAAkB;QAClB,MAAM,YAAY,aAAa,KAAK,CAAC;QACrC,IAAI,CAAC,WAAW;YACd,QAAQ,IAAI,CAAC;YACb,OAAO,EAAE;QACX;QAEA,MAAM,cAAc,SAAS,CAAC,EAAE;QAEhC,sBAAsB;QACtB,MAAM,SAAkB,EAAE;QAC1B,MAAM,UAAU,YAAY,KAAK,CAAC;QAElC,QAAQ,OAAO,CAAC,CAAC,OAAO;YACtB,IAAI,UAAU,KAAK,CAAC,MAAM,QAAQ,CAAC,UAAU,QAAO,gBAAgB;YAEpE,MAAM,YAAY,CAAC,UAAU,IAAI,KAAK,SAAS,IAAI;YAEnD,UAAU;YACV,MAAM,YAAY,UAAU,KAAK,CAAC;YAClC,MAAM,OAAO,YAAY,SAAS,CAAC,EAAE,GAAG;YAExC,UAAU;YACV,MAAM,YAAY,UAAU,KAAK,CAAC;YAClC,MAAM,OAAO,YAAY,SAAS,CAAC,EAAE,GAAG;YAExC,aAAa;YACb,MAAM,eAAe,UAAU,KAAK,CAAC;YACrC,MAAM,UAAU,eAAe,YAAY,CAAC,EAAE,GAAG;YAEjD,iBAAiB;YACjB,MAAM,gBAAgB,UAAU,KAAK,CAAC;YACtC,IAAI,WAAqB,EAAE;YAC3B,IAAI,eAAe;gBACjB,MAAM,cAAc,aAAa,CAAC,EAAE;gBACpC,WAAW,YACR,KAAK,CAAC,KACN,GAAG,CAAC,CAAC,IAAM,EAAE,IAAI,GAAG,OAAO,CAAC,MAAM,KAClC,MAAM,CAAC,CAAC,IAAM,EAAE,MAAM,GAAG;YAC9B;YAEA,IAAI,MAAM;gBACR,OAAO,IAAI,CAAC;oBACV;oBACA;oBACA;oBACA;gBACF;YACF;QACF;QAEA,OAAO;IACT,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,iCAAiC;QAC/C,OAAO,EAAE;IACX;AACF"}},
    {"offset": {"line": 186, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/client-page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/client-page.tsx <module evaluation> from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/client-page.tsx <module evaluation>\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA8R,GAC3T,4DACA","ignoreList":[0]}},
    {"offset": {"line": 200, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/components/client-page.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport default registerClientReference(\n    function() { throw new Error(\"Attempted to call the default export of [project]/components/client-page.tsx from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/components/client-page.tsx\",\n    \"default\",\n);\n"],"names":[],"mappings":"AAAA,uEAAuE;;;;;AACvE;;uCACe,IAAA,wQAAuB,EAClC;IAAa,MAAM,IAAI,MAAM;AAA0Q,GACvS,wCACA","ignoreList":[0]}},
    {"offset": {"line": 214, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 222, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/page.tsx"],"sourcesContent":["import { getAllEpisodes } from \"@/lib/episodes\"\nimport { getAllGuests } from \"@/lib/guests\"\nimport ClientPage from \"@/components/client-page\"\n\nexport default async function Page() {\n  const episodes = await getAllEpisodes()\n  const guests = await getAllGuests()\n\n  return <ClientPage episodes={episodes} guests={guests} />\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;AACA;;;;;AAEe,eAAe;IAC5B,MAAM,WAAW,MAAM,IAAA,iIAAc;IACrC,MAAM,SAAS,MAAM,IAAA,6HAAY;IAEjC,qBAAO,8OAAC,wIAAU;QAAC,UAAU;QAAU,QAAQ;;;;;;AACjD"}}]
}